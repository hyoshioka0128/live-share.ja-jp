---
title: Visual Studio を使用して共同作業する - Visual Studio Live Share | Microsoft Docs
description: Visual Studio と Live Share でのコラボレーションに関する一連のハウツーです。
ms.custom: ''
ms.date: 04/25/2018
ms.reviewer: ''
ms.suite: ''
ms.topic: conceptual
author: chuxel
ms.author: clantz
manager: AmandaSilver
ms.workload:
- liveshare
ms.openlocfilehash: 657b5079ba5669b6d01d732257b40444a8fa82d2
ms.sourcegitcommit: cab8df5c29f9d91e702ef514def53944ee7701ba
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/01/2019
ms.locfileid: "64987192"
---
<!--
Copyright © Microsoft Corporation
All rights reserved.
Creative Commons Attribution 4.0 License (International): https://creativecommons.org/licenses/by/4.0/legalcode
-->

# <a name="how-to-collaborate-using-visual-studio"></a>方法: Visual Studio を使用して共同作業する

Visual Studio で Live Share を使用して共同作業する準備はできていますか。 そうであれば、以下をご覧ください。 この記事では、Visual Studio 向け Visual Studio Live Share 拡張機能のいくつかの特定の機能を使用する方法を説明します。

ここで説明するすべてのコラボレーション アクティビティは、1 人の**コラボレーション セッション ホスト**と 1 人以上の**ゲスト**を伴うことに注意してください。 ホストはコラボレーション セッションを開始した人であり、参加する人はすべてゲストです。

"*短い要約をお探しですか。代わりに、[共有](../quickstart/share.md)または[参加](../quickstart/join.md)のクイック スタートをご覧ください。*"

> [!TIP]
> "*独自のコラボレーション セッションに参加*" できることをご存知でしたか。 これを使うと、Live Share を独自に試したり、Visual Studio または VS Code のインスタンスを起動してリモートでそれに接続したりできます。 両方のインスタンスで同じ ID を使用することもできます。 ぜひお試しください。

## <a name="installation"></a>インストール

始める前に、**Visual Studio 2019** または **Visual Studio 2017 15.6 以降**を Windows 7、8.1、または 10 にインストールする必要があります。 *ただし、ローカルな元に戻す/やり直しがサポートされているので、Visual Studio 15.7 以降をお勧めします。*

始めるのは簡単です。

Visual Studio 2019 の場合
1. 任意のエディションの [Visual Studio 2019](https://visualstudio.microsoft.com/vs/) をインストールします。
2. [サポートされているワークロード](../reference/platform-support.md)をインストールします。 (例: ASP.NET、.NET Core、C++、Python、Node.js)
3. Visual Studio Live Share は、既定でこれらのワークロードと共にインストールされます。

Visual Studio 2017 の場合
1. 任意のエディションの [Visual Studio 2017](https://visualstudio.microsoft.com/vs/older-downloads/) 15.6 以降をインストールします。
2. [サポートされているワークロード](../reference/platform-support.md)をインストールします。 (例: ASP.NET、.NET Core、C++、Node.js)
3. マーケットプレースから Visual Studio Live Share 拡張機能を[ダウンロード](https://aka.ms/vsls-dl/vs)してインストールします。

Visual Studio Live Share をダウンロードして使用すると、[ライセンス条項](https://aka.ms/vsls-license)と[プライバシーに関する声明](https://www.microsoft.com/en-us/privacystatement/EnterpriseDev/default.aspx)に同意したものと見なされます。 問題が発生した場合は、[トラブルシューティング](../troubleshooting.md)に関するページをご覧ください。

[![ダウンロード](../media/download.png)](https://aka.ms/vsls-dl/vs)

## <a name="sign-in"></a>サインイン

共同作業するためには、他のすべてのユーザーに認識されるように、Visual Studio Live Share にサインインする必要があります。 これは純粋にセキュリティ対策であり、マーケティングや他の研究活動に参加することは**ありません**。 Microsoft の個人アカウント (例: @outlook.com)、Microsoft の職場または学校アカウント (AAD)、または GitHub アカウントを使用してサインインすることができます。 サインインは簡単です。

既定では、Visual Studio では[個人アカウント](https://docs.microsoft.com/en-us/visualstudio/ide/signing-in-to-visual-studio)が使用されるため、既に Visual Studio にログインしている場合は、この手順をスキップできます。 それ以外の場合、通常どおりにサインインします。

![VS のサインイン ボタン](../media/vs-sign-in-button.png)

Visual Studio の[個人アカウント](https://docs.microsoft.com/en-us/visualstudio/ide/signing-in-to-visual-studio)以外の別のサインインを使用したい場合は、**[ツール]&gt;[オプション]&gt;[Live Share]&gt;[ユーザー アカウント]** の順に移動し、資格情報を切り替えます。

![VS Tools オプションの Live Share](../media/vs-tools-options.png)

**[外部アカウント]** を選択すると、GitHub のような、Visual Studio のパーソナル化機能でサポートされていないアカウントを選択することができます。 Live Share 機能を初めて使用するとブラウザーが自動的に表示されるので、サインインを完了できます。

問題がある場合は、詳細について[トラブルシューティング](../troubleshooting.md#sign-in)に関する記事をご覧ください。

## <a name="share-a-project"></a>プロジェクトを共有する

Visual Studio Live Share をダウンロードしてインストールしたら、以下の手順のようにして、コラボレーション セッションを開始し、共同作業する同僚を招待します。

1. **サインインする**

    Live Share 拡張機能をインストールした後は、サインインして他の共同作業者に自分のことを知ってもらいます。 既定では、Visual Studio では個人アカウントが使用されるため、このステップをそっくり省略できる場合があります。

    詳しくは、「[サインイン](#sign-in)」をご覧ください。

2. **ソリューション、プロジェクト、またはフォルダーを開く**

    通常のワークフローを使用して、ゲストと共有するフォルダー、プロジェクト、またはソリューションを開きます。

3. **[省略可能] 非表示または除外されているファイルを更新する**

    既定では、プロジェクト内の .gitignore ファイルで参照されているすべてのファイル/フォルダーは、Live Share によりゲストに対して**非表示**になります。 ファイルを**非表示**にするとファイル ツリーに表示されなくなるのに対し、**除外**するとデバッグなどの操作中でも送信されなくなります。 別のファイルを非表示/除外する場合は、これらの設定を使用して **.vsls.json** ファイルをプロジェクトに追加できます。 詳細については、[ファイルのアクセスと可視性を制御する](../reference/security.md#controlling-file-access-and-visibility)のセクションを参照してください。

4. **コラボレーション セッションを開始する**

    ここで、右上隅の "Live Share" ボタンを単にクリックします。

    ![VS の共有ボタン](../media/vs-share-button.png)

    > [!NOTE]
    > 初めてを共有するときに、Live Share エージェントがポートを開くのを許可するように、デスクトップのファイアウォール ソフトウェアから求められる場合があります。 これを受け入れるかどうかは任意ですが、共同作業する人が自分と同じネットワーク上にいるときには、セキュリティで保護された "ダイレクト モード" を有効にしてパフォーマンスを向上させます。 詳細については、[接続モードを変更する](../reference/connectivity.md#changing-the-connection-mode)のセクションを参照してください。

    招待リンクは、自動的にクリップボードにコピーされます。 ブラウザーで開くと、このリンクにより、他のユーザーは、これらのフォルダーの内容を共有する新しいコラボレーション セッションに参加することができます。

    また、"セッション状態" を伝達するように "Live Share" ボタンが変化するのを確認できます。 この表示については、後の「[セッション状態](#session-states)」をご覧ください。

    共有を開始した後でもう一度招待のリンクを取得する必要がある場合は、共有/セッションの状態ボタンをクリックして [リンクのコピー] を選択することによりアクセスできます。

5. **[省略可能] 読み取り専用モードを有効にする**

    コラボレーション セッションを開始したら、セッションを読み取り専用に設定して、ゲストが共有中のコードを変更できないようにすることができます。

    共有後、招待リンクがクリップボードにコピーされたことを知らせる通知が表示されます。 オプションを選択して、セッションを読み取り専用にすることができます。

    ![VS の読み取り専用モード](../media/vs-read-only-notification.png)

6. **リンクを送信する**

    電子メール、Slack、Skype などを使用して、招待したい人にリンクを送信します。 Live Share セッションがゲストに提供できるアクセス レベルを考慮すると、**信頼できる人とだけ共有すべきである**ことに注意してください。また、共有するものの影響を十分に検討してください。

    > **セキュリティのヒント:** Live Share の一部の機能のセキュリティの影響について理解したいですか。 [セキュリティ](../reference/security.md)記事を参照してください。

    招待したゲストが質問がある場合は、「[クイック スタート:最初のセッションに参加する](../quickstart/join.md)」の記事で、ゲストとして開始および実行することについて、もう少し詳しい情報が得られます。

7. **[省略可能] ゲストを承認する**

    既定では、ゲストはコラボレーション セッションに自動的に参加し、ゲストが共同作業の準備ができると、通知されます。 この通知ではセッションからゲストを削除できますが、代わりに参加するすべてのユーザーに明示的な "承認" を要求することもできます。

    機能を有効にするには、**[ツール] > [オプション] > [Live Share] > [ゲスト承認が必要]** を True にするだけです。 この設定を有効にすると、ゲストが参加する前に、ゲストの承認を促す通知が表示されます。

    ![Visual Studio の参加承認要求](../media/vs-join-approval.png)

    招待のセキュリティに関する考慮事項の詳細については、「[invitations and join access (招待および参加アクセス)](../reference/security.md#invitations-and-join-access)」をご覧ください。

これで完了です。

### <a name="ending-the-collaboration-session"></a>コラボレーション セッションの終了

ホストは、共有/セッション状態ボタン (右上隅) をクリックして [End Collaboration Session]\(コラボレーション セッションの終了\) を選択することで、完全に共有を停止し、コラボレーション セッションを終了できます。

![共有を停止する](../media/vs-stop-sharing.png)

すべてのゲストに、セッションが終了したことが通知されます。 セッションが終了すると、ゲストはコンテンツにアクセスできなくなり、一時ファイルは自動的にクリーンアップされます。

共有で問題が発生しますか。 [トラブルシューティング](../troubleshooting.md#share-and-join)に関する記事を参照してください。

## <a name="join-a-collaboration-session"></a>コラボレーション セッションに参加する

Visual Studio Live Share をダウンロードしてインストールした後、ゲストはわずかな手順でホストされたコラボレーション セッションに参加できます。 参加するには、[ブラウザー経由](#join-via-the-browser)と[手動](#join-manually)の 2 つの方法があります。

> **セキュリティのヒント:** コラボレーション セッションに参加するゲストとして、ホストが特定のファイルや機能に対してアクセスを制限する場合があることを理解しておく必要があります。 Live Share の一部の機能と設定のセキュリティの影響について理解したいですか。 [セキュリティ](../reference/security.md)記事を参照してください。

### <a name="join-via-the-browser"></a>ブラウザー経由で参加する

コラボレーション セッションに参加する最も簡単な方法は、単純に Web ブラウザーで招待のリンクを開くことです。 このフローに従うと次のようになります。

1. **サインインする**

    Live Share 拡張機能をインストールした後は、サインインして他の共同作業者に自分のことを知ってもらいます。 既定では、Visual Studio では個人アカウントが使用されるため、このステップをそっくり省略できる場合があります。

    詳しくは、「[サインイン](#sign-in)」をご覧ください。

2. **招待リンクをクリックする/ブラウザーで招待状を開く**

    ブラウザーで招待リンクを開く (またはもう一度開く) だけです。

    > **注**:Live Share の拡張機能をまだインストールしていない場合は、拡張機能のマーケットプレースへのリンクが表示されます。 拡張機能をインストールしてツールを再起動して再度試します。

    ブラウザーで Live Share 対応のツールを起動するかどうかをたずねる通知が表示されます。 選択したツールの起動を許可すると、起動したときにコラボレーション セッションに接続されます。

    ![参加ページ](../media/join-page.png)

    ホストがオフラインの場合は、代わりにこの時点で通知されます。 ホストに連絡して、もう一度共有するように依頼できます。

    > [!NOTE]
    > まだ問題がありますか? 「[手動で参加する](#join-manually)」を参照してください。

3. **共同作業をする**

    これで完了です。 しばらくすると、接続されて共同作業を開始できます。

    "セッション状態" を伝達するように "Live Share" ボタンが変化するのを確認できます。 この表示については、後述する「[セッション状態](#session-states)」を参照してください。

    参加が完了すると、ホストが現在編集しているファイルに自動的に移動します。

### <a name="join-manually"></a>手動で参加する

Web ブラウザーを使用しないで手動で参加することもできます。使用するツールが既に実行されている場合、いつも使用しているものとは違うツールを使用したい場合、または何らかの理由で招待リンクに問題がある場合に役に立ちます。 手順は簡単です。

1. **サインインする**

    Live Share 拡張機能をインストールした後は、サインインして他の共同作業者に自分のことを知ってもらいます。 既定では、Visual Studio では個人アカウントが使用されるため、このステップをそっくり省略できる場合があります。

    詳しくは、「[サインイン](#sign-in)」をご覧ください。

2. **参加コマンドを使用する**

    単に **[ファイル] > [Join Live Share Session]\(Live Share セッションに参加\)** の順に移動する

    ![VS 参加メニュー](../media/vs-join.png)

3. **招待リンクを貼り付ける**

    送信された招待 URL を貼り付けて確認します。

4. **共同作業をする**

    これで完了です。 すぐにコラボレーション セッションに接続されるはずです。

    "セッション状態" を伝達するように "Live Share" ボタンが変化するのを確認できます。 この表示については、後述する「[セッション状態](#session-states)」を参照してください。

    参加が完了すると、ホストが現在編集している場所に自動的に移動します。

### <a name="leave-the-collaboration-session"></a>コラボレーション セッションから退席する

ゲストは、ツールを閉じるか、共有/セッション状態ボタンをクリックして [Leave Collaboration Session]\(コラボレーション セッションを退席\) を選択するだけで、他のユーザーのセッションを終了させずに、コラボレーション セッションから退席できます。

![VS 参加メニュー](../media/vs-leave-session.png)

一時ファイルは自動的にクリーンアップされるため、これ以上の操作は必要ありません。

参加で問題が発生しますか。 [トラブルシューティング](../troubleshooting.md#share-and-join)に関する記事を参照してください。

## <a name="co-editing"></a>共同編集

ゲストがコラボレーション セッションに参加すると、すべてのコラボレーターがすぐに互いの編集と選択内容をリアルタイムで見られるようになります。 行う必要があることは、エクスプローラーでファイルを選択して、編集を始めることだけです。 ホストとゲストの両方が他のユーザーの編集を見ることができ、簡単に反復処理して迅速にソリューションを完了できます。

> [!NOTE]
> 読み取り専用でコラボレーション セッションに参加すると、ゲストはファイルを編集することができません。 ホストは、[共有するときに読み取り専用モードを有効にする](#share-a-project)ことができます。 ゲストは、[セッション状態](#session-states)を見ることで、読み取り専用セッションに参加しているかどうかを確認できます。

![共同編集を示すスクリーンショット](../media/vs-coedit.png)

> [!NOTE]
> 特定の言語では共同編集にいくつかの制限があります。 言語ごとの機能の状態については、[プラットフォームのサポート](../reference/platform-support.md)に関するページをご覧ください。

カーソルと編集だけでなく、選択も同じファイル内にいるすべての参加者に見えます。 これにより簡単に、問題の場所を示したり、アイデアを伝えたりできます。

![強調表示を示すスクリーンショット](../media/vs-highlight.png)

さらに、すべての参加者は、共有プロジェクト内のファイルに移動できます。 共同編集も個別編集も可能です。つまり、調査、微調整、完全な共同編集の間をシームレスに切り替えることができます。

> [!NOTE]
> 既定では、Live Share は共有ソリューションの外部で開かれているファイルも共有します。 この機能を無効にする場合は、[ツール] &gt; [オプション] &gt; [Live Share] で [外部ファイルの共有] を False にします。

結果の編集内容は保存時にホストのコンピューターに保存されるので、編集が終わってもファイルを同期、プッシュ、送信する必要はありません。 編集内容は "そこにあります"。

> **セキュリティのヒント:** すべての参加者が個別にファイルに移動して編集できるようにした場合、ホストは .vsls.json ファイルを使用してゲストがプロジェクト内でアクセスできるファイルを制限できます。 ゲストとしては、これらの設定の結果、特定のファイルが表示されないことを認識していることが重要です。 詳細については、[ファイルのアクセスと可視性を制御する](../reference/security.md#controlling-file-access-and-visibility)のセクションを参照してください。

### <a name="changing-participant-flag-behaviors"></a>参加者フラグの動作の変更

Visual Studio Live Share では、既定で、参加者のカーソルがある場所の横に、または参加者が編集、強調表示、カーソル移動するときに、自動的に "フラグ" が表示されます。 場合によってはこの動作を変更することもできます。 次の手順に従います。

1. **[ツール] > [オプション] > [Live Share]** に移動します
2. **[フラグの表示]** オプションを次のいずれかに変更します。

| オプション | 動作 |
|--------|----------|
| OnHoverOnly | フラグは、カーソルでポイントしたときだけ表示されます。 |
| OnHoverOrActivity | 既定値です。 フラグは、ポイントしたとき、または参加者が編集、強調表示、カーソル移動した場合に表示されます。 |
| Always | フラグは常に表示されます。

## <a name="following"></a>フォロー

コラボレーション セッション中は常に、エディターの右上のサインイン ボタンの横で各参加者のイニシャルを確認できます。 イニシャルをポイントすると、参加者の完全な情報が表示されます。

![ユーザーを示すスクリーンショット](../media/vs-person.png)

複数のファイルやコード内の場所にまたがる問題や設計について説明する必要がある場合があります。 このような状況では、プロジェクト全体を移動する同僚を一時的にフォローすると便利な場合があります。 このため、ゲストは、コラボレーション セッションに参加するとホストを自動的に "フォロー" します。 参加者をフォローすると、エディターは参加者が現在開いているファイル、カーソル、スクロール位置との同期を維持します。

> [!NOTE]
> 既定では、Live Share は共有ソリューションの外部で開かれているファイルも共有します。 この機能を無効にする場合は、[ツール] &gt; [オプション] &gt; [Live Share] で [外部ファイルの共有] を False にします。

簡単に "フォロー モード" を終了して自分の編集を開始するには、次のいずれかが発生した場合、フォローは停止します。

1. 編集、カーソル移動、または選択を行う
2. 別のファイルを選択する

また、右上隅でフォローしているユーザーのイニシャルをクリックして、いつでもフォローを停止できます。 フォローしていることを示す参加者のイニシャルの周りの円が消えます。

![フォローされている Visual Studio 参加者](../media/vs-pinned.png) ![フォローされていない Visual Studio 参加者](../media/vs-pin-hover.png)

この同じ場所のイニシャルをクリックして、コラボレーション セッションのホストまたはゲストをフォローできます。 フォローするのではなく他のユーザーの場所に移動するだけの場合は、イニシャルをダブルクリックします。

## <a name="focusing"></a>フォーカス設定

場合によっては、自分が編集している場所を、コラボレーション セッションの全員に見てもらいたいことがあります。 Live Share では、フォローが返しやすくなる通知を使って、全員が自分に注意を "フォーカス" するよう要求することができます。

右上隅のセッション状態/共有ボタンをクリックして、[参加者へフォロー依頼] を選択するだけです。

![フォーカス メニュー オプション](../media/vs-focus.png)

コラボレーション セッションのすべてのユーザーに、注目を求める通知が送信されます。

![フォーカス トースト通知](../media/vs-focus-toast.png)

参加者は、フォローする準備ができたら、通知の "フォローする" をクリックするだけで済みます。

## <a name="co-debugging"></a>共同デバッグ

Visual Studio Live Share の共同デバッグ機能は、問題をデバッグするための強力で独自の方法です。 コラボレーション エクスペリエンスを有効にして問題をトラブルシューティングする以外に、参加者はホストのマシンで共有デバッグ セッションを提供することで、環境固有の可能性がある問題を調査できます。

> **セキュリティのヒント:** すべての参加者が個別にファイルに移動して編集できるようにした場合、ホストは .vsls.json ファイルを使用してゲストがプロジェクト内でアクセスできるファイルを制限できます。 また、コンソール/REPL アクセスは、参加者がホストのコンピューターでコマンドを実行できることを意味するので、信頼できるユーザーとのみ共同バッグする必要があります。 ゲストとしては、これらの設定の結果として、デバッガーが特定のファイル制限付きのファイルにステップインするとフォローできないことにも注意が必要です。 詳細については、[ファイルのアクセスと可視性を制御する](../reference/security.md#controlling-file-access-and-visibility)のセクションを参照してください。

簡単に使用できます。 コラボレーション セッション ホストは単に、Visual Studio で通常の方法でデバッグを開始する必要があります。

![VS のデバッグ ボタン](../media/vs-debug-button.png)

デバッガーがホスト側でアタッチすると、すべてのゲストも自動的にアタッチされます。 ホストのマシンで 1 つのデバッグ "セッション" が実行されている間、すべての参加者はそれに接続されて、それぞれに独自のビューがあります。

> [!TIP]
> 共同デバッグを行うタイミングと方法を変更したい場合は、**[ツール] > [オプション] > [Live Share]** の設定で、既定の動作を変更できます。

![アタッチされた VS デバッガー](../media/vs-debugger.png)

だれでもデバッグ プロセスをステップ実行でき、制御をネゴシエートする必要なしに、コラボレーター間でシームレスに切り替えることができます。

> [!NOTE]
> 言語またはプラットフォームごとのデバッグ機能の状態については、[プラットフォームのサポート](../reference/platform-support.md)に関するページをご覧ください。

各コラボレーターは、異なる変数を調査し、呼び出し履歴内の異なるファイルにジャンプし、変数を検査し、ブレークポイントを追加または削除できます。 共同編集機能では、各参加者は、他のユーザーがいる場所を追跡でき、問題の異なる側面の同時調査と共同デバッグの間をシームレスに切り替える独自の機能が提供されます。

> [!NOTE]
> 読み取り専用のコラボレーション セッション中は、ゲストはデバッグ プロセスをステップ実行できません。 ただし、ブレークポイントを追加または削除したり、変数を検査したりすることはできます。

> [!TIP]
> また、Visual Studio から VS Code デバッグ セッションに、またはその逆に、参加することもできます。 共同デバッグの詳細については、[Visual Studio での説明](vscode.md#co-debugging)をご覧ください。

### <a name="automatic-web-app-sharing"></a>Web アプリの自動共有

さらによいことに、ASP.NET Web アプリ プロジェクトでは、既定で、デバッグ時にホストのプロジェクトが自動的に Web ブラウザーを起動して実行中の Web アプリケーションに接続するように構成されている場合、Live Share は各ゲストのマシンで同じことを自動的に行います。 これは安全な方法で行われ、既定ではゲストはデバッグ セッションの間だけリモート Web アプリケーションを使用できます。

他の種類のプロジェクトおよびセッションの期間についてサーバーへのアクセスを共有する方法については、「[サーバーを共有する](#share-a-server)」をご覧ください。

> [!TIP]
> 自動ブラウザー共有の動作が好きではなく、変更したい場合は、**[ツール] > [オプション] > [Live Share]** で設定を更新できます。

![同時デバッグのアニメーション](../media/co-debug.gif)

### <a name="change-when-visual-studio-joins-debugging-sessions"></a>Visual Studio がデバッグ セッションに参加するタイミングを変更する

既定では、ゲストはホストによって共有されると自動的にデバッグ セッションにアタッチされます。 ただし、この動作が混乱を招く場合があります。 さいわい、次のようにしてそれを変更できます。

1. **[ツール] > [オプション] > [Live Share]** に移動します
2. **[Join debug session]\(デバッグ セッション参加オプション\)** を次のいずれかに変更します。

| オプション | 動作 |
|--------|----------|
| 自動 | これが既定値です。 ゲストは、ホストが開始するすべての共有デバッグ セッションに自動的に参加します。 |
| Prompted (確認) | ゲストは、ホストによって開始された共有デバッグ セッションに参加するかどうか確認するように求められます。 |
| 手動 | ゲストは、デバッグ セッションに手動で参加する必要があります。 「[デタッチと再アタッチ](#detaching-and-reattaching)」をご覧ください。|

### <a name="detaching-and-reattaching"></a>デタッチと再アタッチ

ゲストは、一時的にデバッグを停止したいことがあります。 さいわい、デバッグ ツールバーの "停止" アイコンをクリックするだけで、ホストまたは他のゲストに影響を与えずに、デバッガーをデタッチできます。

設定を更新したために自動的にアタッチしなくなった場合、または後で再アタッチしたい場合は、[スタートアップ アイテムの選択...] ドロップダウンから目的の実行中のデバッグ セッションを選択し...

![VS のデバッグ ボタン](../media/vs-select-reattach.png)

...クリックしてアタッチします。

![VS のデバッグ ボタン](../media/vs-reattach.png)

## <a name="share-a-server"></a>サーバーを共有する

コラボレーション セッション ホストは、追加のローカル サーバーまたはサービスをゲストと共有したい場合があります。 その範囲は、他の RESTful エンドポイントから、データベースや他のサーバーまでです。 Visual Studio Live Share では、ローカル ポート番号を指定し、必要に応じて名前を付けてから、すべてのゲストと共有することができます。

その後、ゲストは、そのポートで共有されているサーバーに、自分のローカル コンピューターから正確に同じポートでアクセスすることができます。 たとえば、**ポート 3000 で実行されている** Web サーバーを共有した場合、ゲストは**自分のコンピューター**の http://localhost:3000 で、その同じ実行中の Web サーバーにアクセスできます。 これは、ホストとゲストの間のセキュリティ保護された SSH または SSL トンネルを介して実現され、サービスによって認証されるため、コラボレーション セッション内のユーザーだけがアクセスするようにできます。

> **セキュリティのヒント:** ホストはゲストと共有するポートをよく考えて選択する必要があり、(システム ポートを共有するのではなく) アプリケーション ポートを使用する必要があります。 ゲストから見ると、共有ポートは、サーバー/サービスが自分のコンピューターで実行している場合とまったく同じように動作します。 これは非常に便利ですが、共有するポートを間違えると危険な場合もあります。

セキュリティのため、他のゲストは指定したポートで実行されているサーバーだけを使用できます。 さいわい、コラボレーション セッション **ホスト**としてサーバーを追加するのは簡単です。 次の手順に従います。

1. 右上隅にある共有/セッション状態ボタンをクリックし、[共有サーバーを管理する] を選択します

    ![共有サーバーを管理する](../media/vs-share-local-servers.png)

2. 表示されるダイアログで、[追加] をクリックし、ローカル環境でサーバーが実行されているポート番号を入力し、名前を入力し、Enter キーを押して、[OK] をクリックします。

    ![共有サーバーを管理する](../media/vs-manage-local-shared-servers.png)

これで完了です。 指定したポートのサーバーが、各ゲストの localhost の同じポートにマップされます (そのポートが既に使用されていない場合)。

ポートがゲストのコンピューターで既に使用されている場合、別のポートが自動的に選択されます。 さいわい、ゲストは右上隅にある共有/セッション状態ボタンをクリックして [共有サーバーの表示] を選択することで、現在共有されているポートの一覧を見ることができます (指定されている場合は名前で)。

![共有サーバーの表示](../media/vs-view-shared-servers.png)

セキュリティ上の理由から、ホストのコンピューター上で共有されるポートを "*ゲストは制御できない*" ことに注意してください。

ホストがローカル サーバーの共有を**停止する**には、上と同じように右上隅にある共有/セッション状態ボタンをクリックし、[共有サーバーを管理する] を選択して、適切なポートを選択し、[削除] をクリックします。

## <a name="share-a-terminal"></a>ターミナルを共有する

最新の開発では、さまざまなコマンド ライン ツールを頻繁に使用します。 さいわい、Live Share を使うとホストは必要に応じてゲストと "ターミナルを共有" することができます。 共有されたターミナルは、読み取り専用または完全な共同作業用にすることができます。このため、ホストとゲストの両方がコマンドの実行と結果の確認を行うことができます。 ホストは、ゲストがターミナル出力を表示したり、ゲストが実際にテストやビルドの実行や、ホストのコンピューターでしか発生しない環境固有の問題のトリアージを行ったりすることを可能にできます。

ただし、ターミナルによりゲストは (自分でコマンドを実行できない場合でも) 少なくともホストが実行したコマンドの出力に読み取り専用でアクセスできるようになるため、既定ではターミナルは共有**されません**。 これにより、ホストはリスクなしで自由にローカル ターミナルでコマンドを実行し、実際に必要なときにだけ共有することができます。 さらに、ゲストが共有ターミナルを開始し、ホストが予期または監視していないことを実行することがないように、共有ターミナルを開始できるのはホストだけです。

ホストは、右上隅のセッション状態/共有ボタンをクリックし、[ターミナルの共有] メニュー項目のいずれかを選択することで、ターミナルを共有できます。

![ターミナル メニュー](../media/vs-terminal-menu.png)

この時点で、メニューから読み取り専用ターミナルまたは読み取り/書き込みターミナルを選択できます。 ターミナルが読み取り/書き込みのときは、ホストを含むすべてのユーザーがターミナルに入力でき、ゲストが好ましくないことを行っている場合は簡単に介入できます。 ただし、安全のため、ホストは、**読み取り/書き込みアクセスはゲストが実際にそれを必要としていることがわかっている場合にのみ許可**し、自分が実行するコマンドの出力をゲストに見せたいだけの場合は読み取り専用ターミナルを使用する必要があります。

> [!NOTE]
> コラボレーション セッションが読み取り専用モードの場合は、ホストが共有できるのは読み取り専用ターミナルだけです。

開始する共有ターミナルの種類を選択すると、新しい共有ターミナルが適切なアクセス許可を持つすべての参加者に表示されます。 Visual Studio Code には組み込みのターミナル サポートがありますが、Visual Studio にはありません。 そのため、既定では、ターミナルを含む新しいウィンドウが表示されます。 ただし、[Whack Whack Terminal 拡張機能](https://marketplace.visualstudio.com/items?itemName=DanielGriffen.WhackWhackTerminal)の場合は、Live Share は代わりに統合ターミナルを作成します。 共有ターミナルを初めて開始または参加するときに、Visual Studio によってインストールするためのリンクが提供されます。

![ターミナル インストール トースト通知](../media/vs-terminal-install.png)

ターミナル セッションを終了するには、単に「exit」と入力するか、ターミナル ウィンドウを閉じます。そうすると、すべてのユーザーが切断されます。

## <a name="session-states"></a>セッション状態

コラボレーション セッションを開始するか、またはそれに参加し、共有コンテンツにアクセスできるようになると、右上隅の "Live Share" ボタンの表示が、アクティブなコラボレーション セッションの状態を反映するように更新されます。

通常表示される状態は次のとおりです。

| 状態 | ボタン | 説明 |
|-------|--------|-------------|
| 非アクティブ | ![VS の状態: 非アクティブ](../media/vs-status-share.png) | アクティブなコラボレーション セッションはなく、何も共有されていません。 |
| ホスト:共有進行中 | ![VS の状態: 共有進行中](../media/vs-status-sharing.png) | コラボレーション セッションの開始中であり、コンテンツの共有は間もなく開始されます。 |
| ホスト:共有 | ![VS の状態: 共有アクティブ ](../media/vs-status-active.png) | コラボレーション セッションはアクティブであり、コンテンツは共有されています。 |
| ホスト:読み取り専用の共有 | ![VS の状態: 読み取り専用の共有](../media/vs-status-sharing-read-only.png)| 読み取り専用のコラボレーション セッションを共有しています。 |
| ゲスト:セッション参加中 | ![VS Code の状態: 参加中](../media/vs-status-joining.png) | 既存のコラボレーション セッションへの参加を行っています。 |
| ゲスト:参加済み | ![VS ステータス: 参加済み](../media/vs-status-joined.png) | アクティブなコラボレーション セッションに参加して接続しており、共有コンテンツを受信しています。 |
| ゲスト:読み取り専用で参加済み | ![VS ステータス: 読み取り専用で参加済み](../media/vs-status-joined-read-only.png) | アクティブな読み取り専用コラボレーション セッションに参加して接続しています。 |

## <a name="guest-limitations"></a>ゲストの制限事項

現在、上で説明した機能を使用しているときにゲスト側ではいくつかの問題が発生しますが、コラボレーション セッション ホスト側では選択したツールの完全な機能が維持されます。 詳しくは、次のトピックをご覧ください。

- [言語とプラットフォームのサポート](../reference/platform-support.md)
- [拡張機能のサポート](../reference/extensions.md)
- [すべての主要なバグ、機能要求、および制限事項](https://aka.ms/vsls-issues)
- [すべての機能要求および制限事項](https://aka.ms/vsls-feature-requests)

## <a name="next-steps"></a>次の手順

詳細については、次の記事をご確認ください。

- [クイック スタート:最初のプロジェクトを共有する](../quickstart/share.md)
- [クイック スタート:最初のセッションに参加する](../quickstart/join.md)
- [方法: Visual Studio Code を使用して共同作業する](vscode.md)
- [Live Share の接続要件](../reference/connectivity.md)
- [Live Share のセキュリティ機能](../reference/security.md)

問題が発生していますか? [トラブルシューティング](../troubleshooting.md)または[フィードバックの送信](../support.md)に関するページをご覧ください。
