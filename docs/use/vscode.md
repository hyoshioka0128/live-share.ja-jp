---
title: Visual Studio Code を使用して共同作業する - Visual Studio Live Share | Microsoft Docs
description: Visual Studio Code と Live Share のコラボレーションに関する一連のハウツーです。
ms.custom: ''
ms.date: 04/27/2018
ms.reviewer: ''
ms.suite: ''
ms.technology:
- liveshare
ms.topic: conceptual
author: chuxel
ms.author: clantz
manager: AmandaSilver
ms.workload:
- liveshare
ms.openlocfilehash: 9285fef38fea9bb164892775521ed2a28fe9ef1b
ms.sourcegitcommit: 4f733c9053848f26da03d47050bcb734f6c98b31
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/02/2019
ms.locfileid: "57255963"
---
<!--
Copyright © Microsoft Corporation
All rights reserved.
Creative Commons Attribution 4.0 License (International): https://creativecommons.org/licenses/by/4.0/legalcode
-->

# <a name="how-to-collaborate-using-visual-studio-code"></a>方法:Visual Studio Code を使用して共同作業する

VS Code で Live Share を使用して共同作業する準備はできていますか。  そうであれば、以下をご覧ください。 この記事では、Visual Studio Code 向け Visual Studio Live Share 拡張機能のいくつかの特定の機能を使用する方法を説明します。

ここで説明するすべてのコラボレーション アクティビティは、1 人の**コラボレーション セッション ホスト**と 1 人以上の**ゲスト**を伴うことに注意してください。 ホストはコラボレーション セッションを開始した人であり、参加する人はすべてゲストです。

"*短い要約をお探しですか。代わりに、[共有](../quickstart/share.md)または[参加](../quickstart/join.md)のクイック スタートをご覧ください。*"

> [!TIP]
> "*独自のコラボレーション セッションに参加*" できることをご存知でしたか。 これを使うと、Live Share を独自に試したり、Visual Studio または VS Code のインスタンスを起動してリモートでそれに接続したりできます。 両方のインスタンスで同じ ID を使用することもできます。 ぜひお試しください。

## <a name="installation"></a>インストール

開始する前に、Live Share のコア要件を満たす Visual Studio Code のバージョンがインストールされていることを確認する必要があります。 以下のシステムで **Visual Studio Code (1.22.0 以降)** を実行する必要があります。

- **Windows**:7、8.1、または 10

- **macOS**:Sierra (10.12) 以降のみ。
    - "_[.NET Core 2.0 の要件](https://go.microsoft.com/fwlink/?linkid=872315)があるため、El Capitan (10.11) 以前は現在サポートされていません。_"

- **Linux**:64 ビット版 Ubuntu Desktop 16.04 以降、Fedora Workstation 27 以降、CentOS 7

    - Live Share には複数の [Linux の前提条件](#linux-install-steps)があり、インストールを求められる場合があります。
    - "_[.NET Core 2.0 の要件](https://go.microsoft.com/fwlink/?linkid=872314)があるため、32 ビット版 Linux はサポートされません。_"
    - また、ARM も現在サポートされていません。
    - ダウンストリームおよび他のディストリビューションの使用の詳細については、「[Linux のインストールの詳細](../reference/linux.md)」の記事を参照してください。

その後は、Visual Studio Live Share 拡張機能を簡単にダウンロードしてインストールできます。

1. <a href="https://code.visualstudio.com/">Visual Studio Code</a> をインストールします
2. マーケットプレースから Visual Studio Live Share 拡張機能を[ダウンロード](https://aka.ms/vsls-dl/vscode)してインストールします。
3. Visual Studio Code を再度読み込みます
4. 依存関係がダウンロードおよびインストールされるまで待機します (ステータス バーを確認します)。<br/>
    ![インストールの完了](../media/vscode-finishing-install.png)
5. **Linux**:不足しているライブラリのインストールに関する通知が表示された場合:
    1. 通知の [インストール] をクリックします。
    2. 入力を求められたら、管理者 (sudo) のパスワードを入力します。
    3. 完了したら VS Code を再起動します。

Visual Studio Live Share をダウンロードして使用すると、[ライセンス条項](https://aka.ms/vsls-license)と[プライバシーに関する声明](https://www.microsoft.com/en-us/privacystatement/EnterpriseDev/default.aspx)に同意したものと見なされます。 問題が発生した場合は、[トラブルシューティング](../troubleshooting.md)に関するページをご覧ください。

[![ダウンロード](../media/download.png)](https://aka.ms/vsls-dl/vscode)

### <a name="linux-install-steps"></a>Linux のインストール手順

Linux は変化の激しい環境であり、膨大な数のデスクトップ環境やディストリビューションがあるため、作業が複雑になる可能性があります。 サポート対象のバージョンである **Ubuntu Desktop** (16.04 以降)、**Fedora Workstation** (27 以降)、または **CentOS 7** を常に使用し、**VS Code の公式のディストリビューション**のみを使用する場合、このプロセスは簡単です。 ただし、標準ではない構成またはダウンストリーム ディストリビューションを使用する場合は、問題が発生する可能性があります。 詳細については、[Linux のインストールの詳細](../reference/linux.md)に関するページを参照してください。

#### <a name="install-linux-prerequisites"></a>Linux の前提条件をインストールする

Linux のディストリビューションによっては、Live Share が機能するために必要なライブラリがありません。 既定では、Live Share は自動で Linux の前提条件を検出してインストールしようとします。 Live Share でライブラリの不足が原因の可能性がある問題が発生すると、それらをインストールする許可を求めるトースト通知が表示されます。

![Linux の前提条件が不足しているというメッセージが表示されるトースト通知](../media/vscode-linux-prereq-missing.png)

[インストール] をクリックすると、ターミナル ウィンドウが表示されます。続行するには、ここで管理者 (sudo) パスワードを入力する必要があります。 正常に完了したら、Visual Studio Code を再起動します。これで準備は完了です。 他のヒントや回避策については、**[ディストリビューション別のヒント](../reference/linux.md#tips-by-distribution)** を確認することもお勧めします。

スクリプトがディストリビューションをサポートしていないことを示すメッセージが表示される場合は、**[コミュニティがサポートするディストリビューションのヒント](../reference/linux.md#tips-for-community-supported-distros)** を参照してください。コミュニティが Microsoft と共有している情報が見つかります。

**VS Code でこのコマンドを自動的に実行しない**場合は、いつでもターミナル ウィンドウから次のコマンドを実行して、このスクリプトの最新バージョンを手動で再実行することもできます。

    wget -O ~/vsls-reqs https://aka.ms/vsls-linux-prereq-script && chmod +x ~/vsls-reqs && ~/vsls-reqs

#### <a name="linux-browser-integration"></a>Linux ブラウザーの統合

通常、Visual Studio Live Share では、Linux 上でブラウザーの統合を有効にするために**追加のインストール手順が必要ありません**。

一般的ではありませんが、一部のディストリビューションでは、インストール プロセスを完了するには**管理者 (sudo) パスワードが必要と通知されることがあります**。 ブラウザー ランチャーのインストール先を示すターミナル ウィンドウが表示されます。 入力を求められたらパスワードを入力し、インストールが完了したら Enter キーを押してターミナル ウィンドウを閉じます。

これが必要な理由と Live Share がファイルを配置する場所の詳細については、**[こちら](../reference/linux.md#linux-browser-integration)** を参照してください。 ブラウザーの統合が機能しない場合でも、**[コラボレーション セッションには手動でも参加できます](../use/vscode.md#join-manually)**。

## <a name="sign-in"></a>サインイン

共同作業するには、他のすべてのユーザーに認識されるように、Visual Studio Live Share にサインインする必要があります。 これは純粋にセキュリティ対策であり、マーケティングや他の研究活動に参加することは**ありません**。 Microsoft の個人アカウント (例: @outlook.com)、Microsoft の職場または学校アカウント (AAD)、または GitHub アカウントを使用してサインインすることができます。 サインインは簡単です。

[共有] ステータス バーの項目を**クリック**するか、**Ctrl + Shift + P/Cmd + Shift + P キー**を押して、[Live Share:Sign In With Browser]\(Live Share: ブラウザーでサインイン\) コマンドを選択します。

![VS Code のサインイン ボタン](../media/vscode-sign-in-button.png)

Web ブラウザーを使用してサインインを求める通知が表示されます。 [launch sign in]\(サインインの開始\) をクリックすると、サインイン プロセスを完了するためのブラウザーが自動で開きます。 完了したら、ブラウザーを閉じます。

![Web ブラウザーを使用してサインインを求めるトースト通知](../media/vscode-sign-in-toast.png)

> **Linux ユーザー:** Live Share の古いバージョン (v0.3.295 以前) を使用している場合は、ユーザー コードの入力を求められる場合があります。 最新バージョンの拡張機能に更新するか、サインイン後に [問題が発生した場合] の リンクをクリックしてコードを表示します。 [詳細については、以下](#sign-in-using-a-user-code)を参照してください。

ブラウザーでサインイン プロセスを完了しても Visual Studio Code でサインインが取得されない場合は、[ユーザー コードを使用したサインイン](#sign-in-using-a-user-code)に関するページを参照してください。 それ以外の場合、詳細については、[トラブルシューティング](../troubleshooting.md#sign-in)に関するページを参照してください。

### <a name="sign-in-using-a-user-code"></a>ユーザー コードを使用してサインインする

完了したサインインが VS Code で取得されない問題が発生する場合は、代わりに "ユーザー コード" を入力できます。

1. **Ctrl + Shift + P/Cmd + Shift + P キー**を押して、[Live Share:Sign in with user code]\(Live Share: ユーザー コードでサインイン\) コマンドを実行します。

2. サインイン プロセスを完了するためのブラウザーが表示されます。

    > [!NOTE]
    > ブラウザーが自動的に表示されない場合は、ブラウザーで[この場所](https://insiders.liveshare.vsengsaas.visualstudio.com/auth/login)を開いてサインインします。

3. 完了したら、Having trouble? Click here for user code directions\(問題が発生した場合、ユーザー コードの説明についてはここをクリックしてください\)" をクリックしてユーザー コードを表示します。

    ![ブラウザーのユーザー コードの画像](../media/vscode-user-code-browser.png)

4. ユーザー コードをコピーします。

5. 最後に、コマンドを実行したときに表示された入力フィールドにユーザー コードを貼り付け、Enter キーを押してサインイン プロセスを完了します。

    ![ユーザー コードの入力フィールドの画像](../media/vscode-user-code.png)

## <a name="using-the-live-share-viewlet"></a>Live Share の Viewlet を使用する

Visual Studio Live Share をインストールすると、カスタム タブが VS Code アクティビティ バーに追加されます。 このタブでは、すべての Live Share 機能にアクセスして共同作業することができます。 さらに、コラボレーション セッションを共有または参加すると、エクスプローラー タブにもビューが表示され、これらの機能すべてにアクセスできます。

<table style="border: none;">
<tr style="border: none;">
    <td width="50%" style="vertical-align: top; border: none;">
        <img src="../media/vscode-custom-tab.png" width="100%" alt="Live Share custom tab" />
    </td>
    <td width="50%" style="vertical-align: top; border: none;">
        <img src="../media/vscode-explorer-view.png" width="100%" alt="Live Share explorer view"
</tr>
</table>

これらのビューでは、共有コードで参加者の位置を確認する、参加者をクリックしてフォローする、参加者にフォロー依頼する、共有サーバーやターミナルにアクセスするなどの操作を行うことができます。

## <a name="using-the-scoped-command-menu"></a>範囲指定のコマンド メニューの使用

また、すべての Visual Studio Live Share 機能は Visual Studio Code の "コマンド パレット" から利用できます。これには Ctrl + Shift + P/Cmd + Shift + P キー、または F1 キーを押してアクセスできます。 「live share」と入力すると、コマンドの詳細な一覧が表示されます。

この一覧は長くなる可能性があるので、ステータス バーから使用できる範囲指定のコマンド メニューを利用する方が簡単な場合もあります。 ステータス バーのサインイン/セッション状態アイコンをクリックすると、使用できるコマンドのコンテキスト リストがすぐに表示されます。

![VS Code のセッション状態アイコン](../media/vscode-share-state.png)

## <a name="share-a-project"></a>プロジェクトを共有する

Visual Studio Live Share をダウンロードしてインストールしたら、以下の手順のようにして、コラボレーション セッションを開始し、共同作業する同僚を招待します。

1. **サインイン**

    Live Share の拡張機能をインストールし、再読み込みし、依存関係を待機してインストールを完了したら、サインインして他のコラボレーターに自分のことを知らせることができます。 詳細については、「[サインイン](#sign-in)」を参照してください。

2. **フォルダーを開く**

    通常のワークフローを使用して、ゲストと共有するフォルダー、プロジェクト、またはソリューションを開きます。

3. **[省略可能] 非表示または除外されているファイルを更新する**

    既定では、Live Share は共有フォルダー内の .gitignore ファイルで参照されているすべてのファイル/フォルダーをゲストから**非表示**にします。 ファイルを**非表示**にすることで、ゲストのファイル ツリーにそのファイルが表示されないようにします。 ファイルの**除外**は、定義に移動するような状況や、デバッグ中または "フォロー中" のファイルにステップ インした場合に、Live Share がゲストにそのファイルを開かないようにする、より厳格な規則を適用します。 別のファイルを非表示/除外する場合は、これらの設定を使用して **.vsls.json** ファイルをプロジェクトに追加できます。 詳細については、[ファイルのアクセスと可視性を制御する](../reference/security.md#controlling-file-access-and-visibility)のセクションを参照してください。

4. **コラボレーション セッションを開始する**

    次に、[共有] ステータス バーの項目を**クリック**するか、**Ctrl + Shift + P/Cmd + Shift + P キー**を押して、[Live Share:Start a collaboration session (Share)]\(Live Share: コラボレーション セッションの開始 (共有)\) を選択します。

    ![[共有] ボタン](../media/vscode-share-button.png)

    > [!NOTE]
    > 初めて共有するときに、Live Share エージェントがポートを開くのを許可するように、デスクトップのファイアウォール ソフトウェアから求められる場合があります。 これを受け入れるかどうかは任意ですが、共同作業する人が自分と同じネットワーク上にいるときには、セキュリティで保護された "ダイレクト モード" を有効にしてパフォーマンスを向上させます。 詳細については、[接続モードを変更する](../reference/connectivity.md#changing-the-connection-mode)のセクションを参照してください。

    招待リンクは、自動的にクリップボードにコピーされます。 ブラウザーで開くと、このリンクにより、他のユーザーは、これらのフォルダーの内容を共有する新しいコラボレーション セッションに参加することができます。

    また、セッション状態を反映して、[共有] ステータス バー項目も変化します。 この表示については、後述する「[セッション状態](#session-states)」を参照してください。

    共有を開始した後でもう一度招待のリンクを取得する必要がある場合は、セッション状態ステータス バー アイコンをクリックしてもう一度アクセスし、[Invite Others (Copy Link)]\(他のユーザーを招待 (リンクのコピー)\) を選択します。

5. **[省略可能] 読み取り専用モードを有効にする**

    コラボレーション セッションを開始したら、セッションを読み取り専用に設定して、ゲストが共有中のコードを変更できないようにすることができます。

    共有後、招待リンクがクリップボードにコピーされたことを知らせる通知が表示されます。 オプションを選択して、セッションを読み取り専用にすることができます。

    ![VS Code の読み取り専用モード](../media/vscode-read-only-toast.png)

6. **リンクを送信する**

    電子メール、Slack、Skype などを使用して、招待したい人にリンクを送信します。 Live Share セッションがゲストに提供できるアクセス レベルを考慮すると、**信頼できる人とだけ共有すべきである**ことに注意してください。また、共有するものの影響を十分に検討してください。

    > **セキュリティのヒント:** Live Share の一部の機能のセキュリティの影響について理解したいですか。 [セキュリティ](../reference/security.md)記事を参照してください。

    招待したゲストが質問がある場合は、「[クイック スタート:最初のセッションに参加する](../quickstart/join.md)」の記事で、ゲストとして開始および実行することについて、もう少し詳しい情報が得られます。

7. **[省略可能] ゲストを承認する**

    既定では、ゲストはコラボレーション セッションに自動的に参加し、ゲストが共同作業の準備ができると、通知されます。 この通知ではセッションからゲストを削除できますが、代わりに参加するすべてのユーザーに明示的な "承認" を要求することもできます。

    この機能を有効にするには、以下を settings.json に追加します。

         "liveshare.guestApprovalRequired": true

    この設定を有効にすると、ゲストが参加する前に、ゲストの承認を促す通知が表示されます。

    ![Visual Studio Code の参加承認要求](../media/vscode-join-approval.png)

    招待のセキュリティに関する考慮事項の詳細については、「[招待および参加アクセス](../reference/security.md#invitations-and-join-access)」を参照してください。

これで完了です。

### <a name="stop-the-collaboration-session"></a>コラボレーション セッションを終了する

ホストは、エクスプローラーまたは Live Share カスタム タブで Live Share ビューを開き、[Stop collaboration session]\(コラボレーション セッションの終了\) アイコンを選択することで、いつでも共有を完全に終了し、コラボレーション セッションを終了できます。

![コラボレーション セッションを終了する](../media/vscode-end-collaboration-viewlet.png)

すべてのゲストに、セッションが終了したことが通知されます。  セッションが終了すると、ゲストはコンテンツにアクセスできなくなり、一時ファイルは自動的にクリーンアップされます。

共有で問題が発生しますか。 [トラブルシューティング](../troubleshooting.md#share-and-join)に関する記事を参照してください。

## <a name="join-a-collaboration-session"></a>コラボレーション セッションに参加する

Visual Studio Live Share をダウンロードしてインストールした後、ゲストはわずかな手順でホストされたコラボレーション セッションに参加できます。 参加するには、[ブラウザー経由](#join-via-the-browser)と[手動](#join-manually)の 2 つの方法があります。

> **セキュリティのヒント:** コラボレーション セッションに参加するゲストとして、ホストが特定のファイルや機能に対してアクセスを制限する場合があることを理解しておく必要があります。 Live Share の一部の機能と設定のセキュリティの影響について理解したいですか。 [セキュリティ](../reference/security.md)記事を参照してください。

### <a name="join-via-the-browser"></a>ブラウザー経由で参加する

コラボレーション セッションに参加する最も簡単な方法は、単純に Web ブラウザーで招待のリンクを開くことです。 このフローに従うと次のようになります。

1. **サインイン**

    Live Share の拡張機能をインストールし、再読み込みし、依存関係を待機してインストールを完了したら、サインインして他のコラボレーターに自分のことを知らせることができます。 詳細については、「[サインイン](#sign-in)」を参照してください。

2. **招待リンクをクリックする/ブラウザーで招待状を開く**

    ブラウザーで招待リンクを開く (またはもう一度開く) だけです。

    > **注**:Live Share の拡張機能をまだインストールしていない場合は、拡張機能のマーケットプレースへのリンクが表示されます。 拡張機能をインストールしてツールを再起動して再度試します。

    ブラウザーで Live Share 対応のツールを起動するかどうかをたずねる通知が表示されます。 選択したツールの起動を許可すると、起動したときにコラボレーション セッションに接続されます。

    ![参加ページ](../media/join-page.png)

    ホストがオフラインの場合は、代わりにこの時点で通知されます。 その後、ホストに連絡して、もう一度共有するように依頼できます。

    > [!NOTE]
    > Visual Studio Live Share 拡張機能のインストール後に**少なくとも 1 度はツールを起動した**こと、および招待ページを開く/再度開く前にインストールの完了を許可したことを確認してください。 まだ問題が解決していませんか? 「[手動で参加する](#join-manually)」を参照してください。

3. **共同作業をする**

    これで完了です。 しばらくすると、接続されて共同作業を開始できます。

    [共有] ボタンは "セッション状態" を伝達するように変化します。 この表示については、後述する「[セッション状態](#session-states)」を参照してください。

    参加が完了すると、ホストが現在編集しているファイルに自動的に移動します。

### <a name="join-manually"></a>手動で参加する

Web ブラウザーを使用しないで手動で参加することもできます。使用するツールが既に実行されている場合、いつも使用しているものとは違うツールを使用したい場合、または何らかの理由で招待リンクに問題がある場合に役に立ちます。 手順は簡単です。

1. **サインイン**

    Live Share の拡張機能をインストールし、再読み込みし、依存関係を待機してインストールを完了したら、サインインして他のコラボレーターに自分のことを知らせることができます。 詳細については、「[サインイン](#sign-in)」を参照してください。

2. **参加コマンドを使用する**

    VS Code アクティビティ バーの Live Share カスタム タブを開き、[コラボレーション セッションに参加] アイコンまたはエントリを選択します。

    ![参加 Viewlet アイコン](../media/vscode-join-viewlet.png)

3. **招待リンクを貼り付ける**

    送信された招待 URL を貼り付け、Enter キーを押して確定します。

4. **共同作業をする**

    これで完了です。 すぐにコラボレーション セッションに接続されるはずです。

    [共有] ボタンは "セッション状態" を伝達するように変化します。 この表示については、後述する「[セッション状態](#session-states)」を参照してください。

    参加が完了すると、ホストが現在編集しているファイルに自動的に移動します。

### <a name="leave-the-collaboration-session"></a>コラボレーション セッションから退席する

ゲストは、VS Code ウィンドウを閉じるだけで、他のユーザーのセッションを終了させずに、コラボレーション セッションから退席できます。 ウィンドウを開いたままにするには、Live Share Explorer ビューまたは Live Share カスタム タブを開き、[Leave collaboration session]\(コラボレーション セッションからの退席\) アイコンを選択します。

![セッションからの退席アイコン](../media/vscode-leave-session-viewlet.png)

一時ファイルは自動的にクリーンアップされるため、これ以上の操作は必要ありません。

参加で問題が発生しますか。 [トラブルシューティング](../troubleshooting.md#share-and-join)に関する記事を参照してください。

## <a name="co-editing"></a>共同編集

ゲストがコラボレーション セッションに参加すると、すべてのコラボレーターがすぐに互いの編集と選択内容をリアルタイムで見られるようになります。 行う必要があることは、エクスプローラーでファイルを選択して、編集を始めることだけです。 ホストとゲストの両方が他のユーザーの編集を見ることができ、簡単に反復処理して迅速にソリューションを完了できます。

> [!NOTE]
> 読み取り専用でコラボレーション セッションに参加すると、ゲストはファイルを編集することができません。 ホストは、[共有するときに読み取り専用モードを有効にする](#share-a-project)ことができます。 ゲストは、[セッション状態](#session-states)を見ることで、読み取り専用セッションに参加しているかどうかを確認できます。

![共同編集を示すスクリーンショット](../media/vscode-coedit.png)

> [!NOTE]
> 特定の言語では共同編集に制限があります。 言語ごとの機能の状態については、[プラットフォームのサポート](../reference/platform-support.md)に関するページをご覧ください。

カーソルと編集だけでなく、選択も同じファイル内にいるすべての参加者に見えます。 これにより簡単に、問題の場所を示したり、アイデアを伝えたりできます。

![強調表示を示すスクリーンショット](../media/vscode-highlight.png)

さらに、自分とすべての参加者は、共有プロジェクト内のすべてのファイルに移動できます。 共同編集も個別編集も可能です。つまり、調査、微調整、完全な共同編集の間をシームレスに切り替えることができます。

結果の編集内容は保存時にホストのコンピューターに保存されるので、編集が終わってもファイルを同期、プッシュ、送信する必要はありません。 編集内容は "そこにあります"。

> **セキュリティのヒント:** すべての参加者が個別にファイルに移動して編集できるようにした場合、ホストは .vsls.json ファイルを使用してゲストがプロジェクト内でアクセスできるファイルを制限できます。 ゲストとしては、これらの設定の結果、特定のファイルが表示されないことを認識していることが重要です。 詳細については、[ファイルのアクセスと可視性を制御する](../reference/security.md#controlling-file-access-and-visibility)のセクションを参照してください。

### <a name="changing-participant-flag-behaviors"></a>参加者フラグの動作の変更

Visual Studio Live Share では、既定で、参加者のカーソルがある場所の横に、または参加者が編集、強調表示、カーソル移動するときに、自動的に "フラグ" が表示されます。 場合によってはこの動作を変更することもできます。

単に **settings.json を編集し** ([ファイル] > [設定] > [設定])、次のいずれかの行を追加して、VS Code を再起動します。

| 設定 | 動作 |
|---------|----------|
| ``"liveshare.nameTagVisibility":"Never"`` | フラグは、カーソルでポイントしたときだけ表示されます。 |
| ``"liveshare.nameTagVisibility":"Activity"`` | 既定値です。 フラグは、ポイントしたとき、または参加者が編集、強調表示、カーソル移動した場合に表示されます。 |
| ``"liveshare.nameTagVisibility":"Always"`` | フラグは常に表示されます。 |

## <a name="following"></a>フォロー

複数のファイルやコード内の場所にまたがる問題や設計について説明する必要がある場合があります。 このような状況では、プロジェクト全体を移動する同僚を一時的にフォローすると便利な場合があります。 このため、コラボレーション セッションに参加するとホストを自動的に "フォロー" します。 誰かをフォローすると、エディターは参加者が現在開いているファイルとスクロール位置との同期を維持します。

> [!NOTE]
> 既定では、Live Share は共有フォルダーの外部で開かれているファイルも共有します。 この機能を無効にする場合は、settings.json の `liveshare.shareExternalFiles` Live Share を `false` に更新します。

(ホストまたはゲストとして) 参加者のフォローを開始するには、Live Share Explorer ビューまたはカスタム タブの参加者一覧でその名前をクリックします。名前の横にある丸は、フォローしていることを示すために表示されます。

![Viewlet からの VS Code のフォロー](../media/vscode-follow-multiple-viewlet.png)

または、エディター グループの右上にあるピン アイコンをクリックするか、**Ctrl + Alt + F/Cmd + Alt + F キー**を押します。

![VS Code ピン](../media/vscode-pin.png)

> [!NOTE]
> 複数のユーザーがコラボレーション セッションに参加している場合は、フォローする参加者を選択するように求められます。
>
>![コラボレーターの一覧を示すスクリーンショット](../media/vscode-list-collaborators.png)

フォローはエディター グループに関連付けられているので、分割ビュー (またはグリッド レイアウト) を使用して、参加者をフォローしているグループとフォローしていないグループを持つことができます。 こうすることで、受動的に誰かをフォローしながら、独立して何かに対して作業することができます。 編集者グループを選択した状態で、参加者一覧から参加者を選択し、そのグループに選択した参加者をフォローさせることができます。

![分割ビューの VS Code ピン](../media/vscode-follow-split.png)

"フォロー モード" を終了して簡単に自分の編集を開始できるように、次のいずれかが発生した場合、フォローが自動的に停止されます。

1. 現在アクティブなファイルの編集を始めます
1. 別のファイルを開きます
1. 現在アクティブなファイルを閉じます

また、ピン アイコンをもう一度クリックするか、**Ctrl + Alt + F/Cmd + Alt + F キー**を押すと、他のユーザーのフォローを明示的に終了できます。

## <a name="listing-participants"></a>参加者の一覧表示

コラボレーション セッションの参加者を簡単に確認するには、Live Share Explorer ビューまたはカスタム タブの参加者一覧を確認します。ビューには、セッションの全参加者が表示されます。

![ユーザー ステータス バー アイコンが表示されるスクリーンショット](../media/vscode-explorer-view.png)

この一覧の参加者をクリックすると、アクティブなエディター グループの参加者がフォローされます。

または、**Ctrl + Shift + P/Cmd + Shift + P キー**を押して、[Live Share:List Participants]\(Live Share: 参加者の一覧表示\) コマンドを選択するか、ステータス バー項目を**クリック**して、セッションの参加者数を表示します。

![ユーザー ステータス バー アイコンが表示されるスクリーンショット](../media/vscode-user-status.png)

セッションの全参加者の一覧が表示されます。 ピン アイコンのクリックとは異なり、この一覧は、セッションに他の参加者が 1 人しかいない場合にも表示されるため、いつでも他のユーザーがどこにいるのかをすばやく確認できます。 利便性のために、ピン アイコンのように、一覧からいずれかの参加者を選んでフォローすることができます。 終了するには、Esc キーを押します。

## <a name="focusing"></a>フォロー依頼

場合によっては、自分が編集している場所を、コラボレーション セッションの全員に見てもらいたいことがあります。 Live Share では、フォローが返しやすくなる通知を使って、全員が自分に注意を "フォーカス" するよう要求することができます。

VS Code アクティビティ バーまたは Live Share Explorer ビューの Live Share カスタム タブを開き、[参加者へフォロー依頼] アイコンを選択します。

![フォロー依頼 Viewlet アイコン](../media/vscode-focus-viewlet.png)

コマンドを実行すると、コラボレーション セッションのすべてのユーザーに、注目を求める通知が送信されます。

![フォーカス トースト通知](../media/vscode-focus-toast.png)

参加者は、フォローする準備ができたら、通知の "フォローする" をクリックするだけで済みます。

## <a name="co-debugging"></a>共同デバッグ

Visual Studio Live Share の共同デバッグ機能は、問題をデバッグするための強力で独自の方法です。 コラボレーション エクスペリエンスを有効にして問題をトラブルシューティングする以外に、参加者はホストのマシンで共有デバッグ セッションを提供することで、環境固有の可能性がある問題を調査できます。

> **セキュリティのヒント:** すべての参加者が個別にファイルに移動して編集できるようにした場合、ホストは .vsls.json ファイルを使用してゲストがプロジェクト内でアクセスできるファイルを制限できます。 また、コンソール/REPL アクセスは、参加者がホストのコンピューターでコマンドを実行できることを意味するので、信頼できるユーザーとのみ共同デバッグする必要があります。 ゲストとしては、これらの設定の結果として、デバッガーが特定のファイル制限付きのファイルにステップインするとフォローできないことにも注意が必要です。 詳細については、[ファイルのアクセスと可視性を制御する](../reference/security.md#controlling-file-access-and-visibility)のセクションを参照してください。

簡単に使用できます。

1. ホストとすべてのゲストの両方に適切なデバッグ拡張機能がインストールされていることを確認します。 (これは技術的には必ずしも必要ではありませんが、一般的には推奨されます。)

2. ホストは、まだプロジェクト用に設定していない場合、通常どおりに VS Code からアプリケーションをデバッグするように [launch.json を構成する](https://code.visualstudio.com/Docs/editor/debugging#_launch-configurations)必要があります。 特別な設定は必要ありません。

3. 次に、ホストは通常どおりデバッグ タブのボタンを使用してデバッグを開始できます。

    ![VS Code のデバッグ ボタン](../media/vscode-debug-button.png)

    > [!TIP]
    > また、VS Code から Visual Studio デバッグ セッションに、またはその逆に、参加することもできます。 共同デバッグの詳細については、[Visual Studio の手順](vs.md#co-debugging)に関するページを参照してください。

デバッガーがホスト側でアタッチすると、すべてのゲストも自動的にアタッチされます。 ホストのマシンで 1 つのデバッグ "セッション" が実行されている間、すべての参加者はそれに接続されて、それぞれに独自のビューがあります。

![アタッチされた VS Code デバッガー](../media/vscode-debugger.png)

だれでもデバッグ プロセスをステップ実行でき、制御をネゴシエートする必要なしに、コラボレーター間でシームレスに切り替えることができます。

> [!NOTE]
> 言語またはプラットフォームごとのデバッグ機能の状態については、[プラットフォームのサポート](../reference/platform-support.md)に関するページをご覧ください。

各コラボレーターは、異なる変数を調査し、呼び出し履歴内の異なるファイルにジャンプし、変数を検査し、ブレークポイントを追加または削除できます。 共同編集機能では、各参加者は、他のユーザーがいる場所を追跡でき、問題の異なる側面の同時調査と共同デバッグの間をシームレスに切り替える独自の機能が提供されます。

> [!NOTE]
> 読み取り専用のコラボレーション セッション中は、ゲストはデバッグ プロセスをステップ実行できません。 ただし、ブレークポイントを追加または削除したり、変数を検査したりすることはできます。

![同時デバッグのアニメーション](../media/co-debug.gif)

### <a name="change-when-vs-code-joins-debugging-sessions"></a>VS Code がデバッグ セッションに参加するタイミングを変更する

既定では、ゲストはホストによって共有されると自動的にデバッグ セッションにアタッチされます。 ただし、この動作が混乱を招く場合があります。 さいわい、次のようにしてそれを変更できます。

単に **settings.json を編集し** ([ファイル] > [設定] > [設定])、次のいずれかの行を追加して、VS Code を再起動します。

| 設定 | 動作 |
|---------|----------|
|``"liveshare.joinDebugSessionOption":"Automatic"`` | これが既定値です。 ゲストは、ホストが開始するすべての共有デバッグ セッションに自動的に参加します。 |
| ``"liveshare.joinDebugSessionOption":"Prompt"`` | ゲストは、ホストによって開始された共有デバッグ セッションに参加するかどうか確認するように求められます。 |
| ``"liveshare.joinDebugSessionOption":"Manual"`` | ゲストは、デバッグ セッションに手動で参加する必要があります。 「[デタッチと再アタッチ](#detaching-and-reattaching)」を参照してください。 |

### <a name="detaching-and-reattaching"></a>デタッチと再アタッチ

ゲストは、一時的にデバッグを停止したいことがあります。 さいわい、デバッグ ツールバーの "停止" アイコンをクリックするだけで、ホストまたは他のゲストに影響を与えずに、デバッガーをデタッチできます。

![VS Code デバッガーの終了ボタン](../media/vscode-debug-stop.png)

設定を更新して自動アタッチが実行されなくなった場合や、後でもう一度追加する場合は、**Ctrl + Shift + P/Cmd + Shift + P キー**を押すか、セッション状態ステータス バー項目を**クリック**し、[Attach to a Shared Debugging Session]\(共有デバッグ セッションへのアタッチ\) を選択します。

![VS Code のデバッガーのアタッチ](../media/vscode-reattach.png)

### <a name="sharing-the-running-application-in-a-browser"></a>実行中のアプリケーションをブラウザーで共有する

Visual Studio Code には、ASP.NET などのプロジェクトの種類に対応する Visual Studio のような既知の "Web アプリケーション ポート" という概念がありません。 ただし、Visual Studio ホストからコラボレーション セッションに参加している場合は、デバッグ開始時に既定のブラウザーが自動的に表示され、ホストの実行中のアプリケーションに自動的に接続されることがあります。 詳細については、[Visual Studio の機能](vs.md#automatic-web-app-sharing)」に関するセクションを参照してください。

ホストは、[Share Local Server]\(ローカル サーバーの共有\) 機能を使用して、RESTful サービスなどのアプリケーションまたは他のエンドポイントを手動で共有することで、同様のことを実現できます。 Visual Studio と VS Code のゲストは同じ localhost ポートでブラウザーを開き、実行中のアプリケーションを表示することができます。  詳細については、「[サーバーを共有する](#share-a-server)」を参照してください。

## <a name="share-a-server"></a>サーバーを共有する

コラボレーション セッション ホストは、Web アプリケーションや、ローカルで実行されているサーバーまたはサービスをゲストと共有する場合があります。 その範囲は、他の RESTful エンドポイントから、データベースや他のサーバーまでです。 Visual Studio Live Share では、ローカル ポート番号を指定し、必要に応じて名前を付けてから、すべてのゲストと共有することができます。

その後、ゲストは、そのポートで共有されているサーバーに、自分のローカル コンピューターから正確に同じポートでアクセスすることができます。 たとえば、**ポート 3000 で実行されている** Web サーバーを共有した場合、ゲストは**自分のコンピューター**の http://localhost:3000 で、その同じ実行中の Web サーバーにアクセスできます。 これは、ホストとゲストの間のセキュリティ保護された SSH または SSL トンネルを介して実現され、サービスによって認証されるため、コラボレーション セッション内のユーザーだけがアクセスするようにできます。

> **セキュリティのヒント:** ホストはゲストと共有するポートをよく考えて選択する必要があり、(システム ポートを共有するのではなく) アプリケーション ポートを使用する必要があります。 ゲストから見ると、共有ポートは、サーバー/サービスが自分のコンピューターで実行している場合とまったく同じように動作します。 これは非常に便利ですが、共有するポートを間違えると危険な場合もあります。

セキュリティのため、他のゲストは指定したポートで実行されているサーバーだけを使用できます。 さいわい、コラボレーション セッション **ホスト**としてサーバーを追加するのは簡単です。 次の手順に従います。

1. VS Code アクティビティ バーまたは Live Share Explorer ビューの Live Share カスタム タブを開き、[共有サーバー] エントリを選択するかアイコンをクリックします。

    ![VS Code 共有ローカル サーバー](../media/vscode-share-local-server-viewlet.png)<br />

1. サーバーが実行されているポート番号と省略可能な名前を入力します。

    ![ポート番号のプロンプトのスクリーンショット](../media/vscode-enter-port.png)<br />

これで完了です。 指定したポートのサーバーが、各ゲストの localhost の同じポートにマップされます (そのポートが既に使用されていない場合)。

ポートがゲストのコンピューターで既に使用されている場合、別のポートが自動的に選択されます。 さいわい、ゲストは Live Share Explorer ビューまたは VS Code アクティビティ バーのカスタム タブで、(指定した場合は名前ごとに) 現在共有されているポートの一覧を確認できます。共有サーバー一覧の下に表示されます。 エントリを選択すると、そのサーバーがブラウザーに表示されます。 また、右クリックして、サーバーへのリンクをクリップボードにコピーするオプションを選択することもできます。

![VS Code アクセス ローカル サーバー](../media/vscode-access-shared-server-viewlet.png)<br />

セキュリティ上の理由から、ホストのコンピューター上で共有されるポートを "*ゲストは制御できない*" ことに注意してください。

ホストとしてローカル サーバーの共有を**終了**するには、Live Share Explorer ビューまたはカスタム タブの共有サーバー一覧にあるサーバー エントリをポイントし、[Unshare server]\(サーバーの共有解除\) アイコンをクリックします。

![VS Code のサーバーの共有停止](../media/vscode-stop-sharing-server-viewlet.png)<br />

## <a name="share-a-terminal"></a>ターミナルを共有する

最新の開発では、さまざまなコマンド ライン ツールを頻繁に使用します。 さいわい、Live Share を使うとホストは必要に応じてゲストと "ターミナルを共有" することができます。 共有されたターミナルは、読み取り専用または完全な共同作業用にすることができます。このため、ホストとゲストの両方がコマンドの実行と結果の確認を行うことができます。 ホストは、ゲストがターミナル出力を表示したり、ゲストが実際にテストやビルドの実行や、ホストのコンピューターでしか発生しない環境固有の問題のトリアージを行ったりすることを可能にできます。

ただし、ターミナルによりゲストは (自分でコマンドを実行できない場合でも) 少なくともホストが実行したコマンドの出力に読み取り専用でアクセスできるようになるため、既定ではターミナルは共有**されません**。 これにより、ホストはリスクなしで自由にローカル ターミナルでコマンドを実行し、実際に必要なときにだけ共有することができます。 さらに、ゲストが共有ターミナルを開始し、ホストが予期または監視していないことを実行することがないように、共有ターミナルを開始できるのはホストだけです。

ホストがターミナルを共有するには、VS Code アクティビティ バーまたは Live Share Explorer ビューの Live Share カスタム タブを開き、[共有サーバー] エントリを選択するかアイコンをクリックします。

![VS Code のターミナルの共有](../media/vscode-share-terminal-viewlet.png)<br />

この時点で、メニューから読み取り専用ターミナルまたは読み取り/書き込みターミナルを選択できます。 ターミナルが読み取り/書き込みのときは、ホストを含むすべてのユーザーがターミナルに入力でき、ゲストが好ましくないことを行っている場合は簡単に介入できます。 ただし、安全のため、ホストは、**読み取り/書き込みアクセスはゲストが実際にそれを必要としていることがわかっている場合にのみ許可**し、自分が実行するコマンドの出力をゲストに見せたいだけの場合は読み取り専用ターミナルを使用する必要があります。

> [!NOTE]
> コラボレーション セッションが読み取り専用モードの場合は、ホストが共有できるのは読み取り専用ターミナルだけです。

![読み取り専用または読み取り/書き込みの選択](../media/vscode-share-terminal-ro-rw.png)<br />

開始する共有ターミナルの種類を選択すると、新しい共有ターミナルが VS Code のターミナル タブに表示されます。

![実行中の共有ターミナル](../media/vscode-share-terminal-up.png)<br />

複数のターミナルが共有されている場合、またはフォーカスが別のタブにある場合は、共有ターミナル一覧のエントリを選択して特定のターミナルにフォーカスを移動できます。

![共有ターミナルのフォーカスの切り替え](../media/vscode-shared-terminal-focus.png)<br />

ターミナル セッションを終了するには、単に「exit」と入力し、ターミナル ウィンドウを閉じるか、Live Share Explorer ビューまたはカスタム タブの [Unshare terminal]\(ターミナルの共有解除\) をクリックします。これで、すべてのユーザーが切断されます。

## <a name="session-states"></a>セッション状態

コラボレーション セッションを開始するか、またはそれに参加し、共有コンテンツにアクセスすると、アクティブなコラボレーション セッションの状態を反映するように Visual Studio Live Share のステータス バー項目の表示が更新されます。

通常表示される状態は次のとおりです。

| 状態 | ステータス バー | 説明 |
|-------|--------------------|-------------|
| 非アクティブ | ![VS Code の状態: 非アクティブ](../media/vscode-status-share.png) | アクティブなコラボレーション セッションはなく、何も共有されていません。 |
| ホスト:共有進行中 | ![VS Code の状態: 共有進行中](../media/vscode-status-sharing.png)| コラボレーション セッションの開始中であり、コンテンツの共有は間もなく開始されます。 |
| ホスト:共有 | ![VS Code の状態: 共有アクティブ ](../media/vscode-status-active.png)| コラボレーション セッションはアクティブであり、コンテンツは共有されています。 |
| ホスト:読み取り専用の共有 | ![VS Code の状態: 読み取り専用の共有](../media/vscode-status-sharing-read-only.png)| 読み取り専用のコラボレーション セッションを共有しています。 |
| ゲスト:セッション参加中 | ![VS Code の状態: 参加中](../media/vscode-status-joining.png)| 既存のコラボレーション セッションへの参加を行っています。 |
| ゲスト:参加済み | ![VS Code の状態: 参加済み](../media/vscode-status-active.png) | アクティブなコラボレーション セッションに参加して接続しており、共有コンテンツを受信しています。 |
| ゲスト:読み取り専用で参加済み | ![VS Code の状態: 読み取り専用で参加済み](../media/vscode-status-joined-read-only.png) | アクティブな読み取り専用コラボレーション セッションに参加して接続しています。 |

## <a name="guest-limitations"></a>ゲストの制限事項

現在、上で説明した機能を使用しているときにゲスト側ではいくつかの問題が発生しますが、コラボレーション セッション ホスト側では選択したツールの完全な機能が維持されます。 詳しくは、次のトピックをご覧ください。

- [言語とプラットフォームのサポート](../reference/platform-support.md)
- [拡張機能のサポート](../reference/extensions.md)
- [すべての主要なバグ、機能要求、および制限事項](https://aka.ms/vsls-issues)
- [すべての機能要求および制限事項](https://aka.ms/vsls-feature-requests)
- [トラブルシューティング](../troubleshooting.md)

## <a name="next-steps"></a>次の手順

詳細については、次の記事をご確認ください。

- [クイック スタート:最初のプロジェクトを共有する](../quickstart/share.md)
- [クイック スタート:最初のセッションに参加する](../quickstart/share.md)
- [方法:Visual Studio を使用して共同作業する](vs.md)
- [Live Share の接続要件](../reference/connectivity.md)
- [Live Share のセキュリティ機能](../reference/security.md)
- [Linux のインストールの詳細](../reference/linux.md)

問題が発生していますか? [トラブルシューティング](../troubleshooting.md)または[フィードバックの送信](../support.md)に関するページをご覧ください。
